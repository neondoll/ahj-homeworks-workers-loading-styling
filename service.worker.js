(()=>{if(importScripts("https://storage.googleapis.com/workbox-cdn/releases/5.0.0/workbox-sw.js"),workbox){workbox.precaching.precacheAndRoute([{'revision':'790d33b333c83218cd8c50b55ce8ad16','url':'app.css'},{'revision':'ac6243efac9eabb795ba3b09f1f65c15','url':'app.js'},{'revision':'86a1b51d8dcce1d977279baba15d6fc4','url':'index.html'}]);const t="v1",s=["/","/app.css","/index.html"];async function e(e,s){const n=await caches.open(t);await n.put(e,s)}self.addEventListener("install",(e=>{console.log("Установлен"),e.waitUntil(async function(e){const s=await caches.open(t);await s.addAll(e)}(["./","./app.css","./app.js","./index.html"]))})),self.addEventListener("activate",(()=>{console.log("Активирован")})),self.addEventListener("fetch",(t=>{console.log("Происходит запрос на сервер",t.request.url);const n=new URL(t.request.url);n.pathname.startsWith("/api")||["chrome-extension:","ws:"].includes(n.protocol)||(s.includes(n.pathname)?t.respondWith(async function(t){let s;try{s=await fetch(t.request)}catch(e){console.log(e);return await caches.match(t.request)||new Response("Нет соединения")}return await e(t.request,s.clone()),s}(t)):t.respondWith(async function(t){const s=await caches.match(t.request);if(s)return s;let n;try{n=await fetch(t.request)}catch(e){return void console.log(e)}return await e(t.request,n.clone()),n}(t)))}))}})();